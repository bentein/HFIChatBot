<div class="chat-box">
  <div *ngFor="let group of data.separatedMessages; let last = last">
    <div fxLayout="row" fxLayoutAlign="{{group[0].type!=='sent' ? 'start end' : 'end end'}}">
      
      <div *ngIf="group[0].type!=='sent'" class="profile-image-wrapper">
        <img src="../../../assets/avatar1.jpg" class="profile-image">
      </div>

      <div fxLayout="column" fxLayoutAlign="'{{group[0].type!=='received' ? 'start start' : 'start end'}}'" class="{{group[0].type + '-wrapper'}}">
        <span *ngFor="let msg of group" class="chat" [ngClass]="{'sent':msg.type==='sent','received':msg.type==='received'}" title="{{getTitle(msg)}}">
          <span *ngIf="group[0].type!=='image-received'">{{msg.content}}</span>
          <img id="img" *ngIf="group[0].type==='image-received'" class="image-received" [src]="data.getImg(msg.content)" (click)="imgFullscreen(msg.content)">

          <div id="myModal" class="modal">
            <span (click)="closeModal()" class="close">&times;</span>
            <img class="modal-content" id="img01">
            <div id="caption"></div>
          </div>

        </span>
      </div>
    </div>
    <div *ngIf="last">{{scrollToBottom()}}</div>
  </div>
</div>

